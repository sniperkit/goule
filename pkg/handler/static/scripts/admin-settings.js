// Generated by CoffeeScript 1.7.1
(function() {
  var AdminSettings, chpassSubmit;

  if (window.goule == null) {
    window.goule = {};
  }

  AdminSettings = (function() {
    function AdminSettings() {}

    AdminSettings.prototype.show = function(animate) {
      var container;
      container = $('#admin-settings-container');
      if (animate) {
        container.css({
          display: 'inline-block',
          opacity: '0.0'
        });
        return container.animate({
          opacity: 1.0
        });
      } else {
        return container.css({
          display: 'inline-block',
          opacity: '1.0'
        });
      }
    };

    AdminSettings.prototype.hide = function(animate) {
      var container;
      container = $('#admin-settings-container');
      if (animate) {
        container = $('#admin-settings-container');
        return $('#admin-settings-container').fadeOut();
      } else {
        return container.css({
          display: 'none'
        });
      }
    };

    return AdminSettings;

  })();

  window.goule.adminSettings = new AdminSettings();

  chpassSubmit = function() {
    var confirm, newPass;
    newPass = $('#new-password').val();
    confirm = $('#confirm-password').val();
    if (newPass !== confirm) {
      $('#confirm-password').effect('shake');
      return;
    }
    $('#change-password-button').prop('disabled', true);
    return window.goule.changePassword(newPass, function() {
      $('#change-password-button').prop('disabled', false);
      $('#new-password').val('');
      return $('#confirm-password').val('');
    });
  };

  $(function() {
    $('#change-password-button').click(chpassSubmit);
    return $('#change-password-form').click(function(e) {
      e.preventDefault();
      return chpassSubmit();
    });
  });

}).call(this);
