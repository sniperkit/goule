// Generated by CoffeeScript 1.7.1
(function() {
  if (window.goule == null) {
    window.goule = {};
  }

  window.goule.login = {};

  window.goule.login.show = function(animate) {
    if (animate) {
      $('#login').css({
        display: 'inline-block',
        opacity: '0'
      });
      return $('#login').fadeIn();
    } else {
      return $('#login').css({
        display: 'inline-block',
        opacity: '1.0'
      });
    }
  };

  window.goule.login.hide = function(animate) {
    if (animate) {
      return $('#login').fadeOut();
    } else {
      return $('#login').css({
        display: 'none'
      });
    }
  };

  $(function() {
    $('#login-input').focus();
    return $('#login-form').submit(function(e) {
      e.preventDefault();
      $('#login-input').prop('disabled', true);
      return window.goule.api.auth($('#login-input').val(), function(succ) {
        $('#login-input').prop('disabled', false);
        if (!succ) {
          return $('#login-input').effect('shake');
        } else {
          window.goule.login.hide(true);
          window.goule.headerControls.show(true);
          return window.goule.headerControls.selectTab(0, false);
        }
      });
    });
  });

}).call(this);
